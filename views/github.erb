<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>MyHub</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
  MyHub
  </header>
  <div id="page-holder" role="main">
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script src="//raw.github.com/janl/mustache.js/817e884f60c0600b78ffb16c423513bd9dcde394/mustache.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.1.7/underscore-min.js"></script>
  <script src="js/myhub.js"></script>
</body>
<script>
  var user = {
    token: '<%= user_token %>'
  };
  $(function(){
    var app = new MyHub(user, '#page-holder');
    app.manageOrgs();
  });
</script>
<script type="text/template" id="view-org-list">
  <h3>Organizations</h3>
  <ul class="org-list">
    {{#orgs}}
    <li><a href="{{url}}">
        <img src="{{avatar_url}}">{{login}}</a>
    </li>
    {{/orgs}}
  </ul>
</script>

<script type="text/template" id="view-user-selection">
  <h3>Managing {{login}}</h3>
  <input type="text" name="username">
  <h4>Members</h4>
  <ul class="user-list">
    {{#members}}
    <li>
      <a href="{{url}}"><img height="20" src="{{avatar_url}}">{{login}}</a>
    </li>
    {{/members}}
  </ul>
</script>

<script type="text/template" id="view-manage-user">
  <h3>Managing {{user_login}} at {{org_login}}</h3>
  <h4>Org Repositories</h4>
  <ul>
    {{#user_repos}}
    <li {{#permission}}class="granted"{{/permission}}>{{name}} {{#permission}}<span>{{permission}}</span>{{/permission}}</li>
    {{/user_repos}}
  </ul>
</script>

</html>
